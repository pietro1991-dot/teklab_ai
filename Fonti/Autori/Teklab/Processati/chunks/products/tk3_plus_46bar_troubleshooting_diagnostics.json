{
  "id": "tk3_plus_46bar_troubleshooting_diagnostics",
  
  "messages": [
    {
      "role": "system",
      "content": "You are an expert TECHNICAL SALES ASSISTANT for Teklab, a leading manufacturer of liquid level sensors and controllers for industrial applications.\n\nðŸŒ LANGUAGE ADAPTATION - ABSOLUTE PRIORITY:\n**CRITICAL**: ALWAYS respond in the EXACT SAME LANGUAGE as the user's question.\n\nMISSION: Provide expert technical consultation on Teklab products, helping customers select the right sensor/controller for their specific application, troubleshoot issues, and optimize system performance.\n\nSTYLE: Technical but accessible, consultative and solution-oriented, precise and data-driven, focus on PRACTICAL APPLICATION and PROBLEM SOLVING."
    },
    {
      "role": "user",
      "content": "SEMANTIC CONCEPT: TK3+ 46bar Troubleshooting and Diagnostics Guide\n\nðŸŽ¯ CUSTOMER QUESTION THIS CHUNK ANSWERS:\n\"My TK3+ 46bar is giving false alarms / not detecting oil level / relay not switching / 4-20mA output incorrect. How do I diagnose and fix the problem?\"\n\nðŸ“‹ COMPLETE TROUBLESHOOTING GUIDE:\n\n---\n\n**PROBLEM 1: FALSE ALARMS (LOW OIL ALARM WITH NORMAL OIL LEVEL)**\n\n**Symptoms:**\nâ€¢ Relay triggers LOW oil alarm even when oil level is normal\nâ€¢ LED shows RED (LOW) but visual inspection shows oil OK\nâ€¢ Intermittent alarms during compressor startup/shutdown\nâ€¢ 4-20mA output fluctuates between 4mA and 20mA\n\n**Root Causes & Solutions:**\n\nâœ… **CAUSE 1: Oil Foam/Bubbles (Most Common)**\nâ€¢ **Why it happens**: High compressor RPM, oil agitation, refrigerant dissolved in oil creates foam/bubbles\nâ€¢ **Foam temporarily covers sensor optics** â†’ IR beam blocked â†’ false \"oil OK\" reading\nâ€¢ **Then foam settles** â†’ sensor sees air â†’ false \"oil LOW\" alarm\n\n**SOLUTION:**\nâ†’ **Increase programmable timer setting** (anti-foam filter)\nâ†’ Default: 3 seconds | Recommended: 5-7 seconds for foamy systems\nâ†’ Procedure:\n  1. Remove top cover (4 screws)\n  2. Locate \"TIMER\" potentiometer\n  3. Turn clockwise to increase delay (max 10 seconds)\n  4. Test during compressor startup (worst-case foam)\n  5. Verify no false alarms for 24-hour cycle\n\nâœ… **CAUSE 2: Sensor Optics Contamination**\nâ€¢ **Why it happens**: Oil residue, carbon deposits, moisture buildup on IR lens\nâ€¢ **Symptoms**: Gradual degradation of detection accuracy, erratic behavior\n\n**SOLUTION:**\nâ†’ **Clean sensor optics**:\n  1. Shut down compressor, de-pressurize system (LOTO procedures)\n  2. Remove sensor from flange (4-6 bolts)\n  3. Inspect IR lens (sapphire window at tip) for oil film\n  4. Clean with **isopropyl alcohol (IPA 99%)** and lint-free cloth\n  5. Do NOT use abrasive cleaners or solvents (damage optics)\n  6. Reinstall with new gasket, tighten to 15-20 Nm\n  7. Test detection: cover sensor tip with hand â†’ LED should turn GREEN\n\nâœ… **CAUSE 3: Mechanical Vibration**\nâ€¢ **Why it happens**: Compressor vibration transmitted to sensor, loose mounting bolts\nâ€¢ **Symptoms**: Alarms synchronized with compressor on/off cycles\n\n**SOLUTION:**\nâ†’ **Secure mounting**:\n  1. Check flange bolts tightness (15-20 Nm torque)\n  2. Verify no mechanical stress on sensor housing\n  3. Inspect gasket for damage (replace if compressed/torn)\n  4. Consider vibration dampers if compressor >100 Hz vibration\n\nâœ… **CAUSE 4: Electrical Noise (EMI/RFI)**\nâ€¢ **Why it happens**: Variable frequency drive (VFD), high-power motors, welding equipment nearby\nâ€¢ **Symptoms**: Random false alarms, 4-20mA signal noise\n\n**SOLUTION:**\nâ†’ **Improve EMC shielding**:\n  1. Verify cable shield grounded at controller side ONLY (not both ends)\n  2. Route sensor cable away from VFD power cables (min 30 cm separation)\n  3. Use metal conduit for cable protection\n  4. Install ferrite core on sensor cable (snap-on type, near controller)\n  5. Check ground loop: measure voltage between sensor GND and PLC GND (should be <0.5V)\n\n---\n\n**PROBLEM 2: SENSOR NOT DETECTING OIL LEVEL (ALWAYS SHOWS LOW)**\n\n**Symptoms:**\nâ€¢ LED always RED (LOW) even with full oil level\nâ€¢ Relay stuck in LOW position (NO contact closed)\nâ€¢ 4-20mA output stuck at 20 mA\nâ€¢ Visual inspection confirms oil is present\n\n**Root Causes & Solutions:**\n\nâœ… **CAUSE 1: Sensor Installed Upside-Down or Tilted**\nâ€¢ **Why it happens**: Incorrect flange orientation during installation\nâ€¢ **Sensor must be VERTICAL (Â±15Â° max tolerance)**\nâ€¢ **If tilted >15Â°**: IR beam may not properly detect oil surface\n\n**SOLUTION:**\nâ†’ **Check sensor orientation**:\n  1. Verify sensor is vertical using level gauge\n  2. IR emitter/detector must face horizontally (perpendicular to oil surface)\n  3. If tilted, loosen flange bolts and realign\n  4. Retighten in cross pattern to 15-20 Nm\n\nâœ… **CAUSE 2: Oil Level Below Sensor Mounting Point**\nâ€¢ **Why it happens**: Compressor oil loss, leak, insufficient oil charge\nâ€¢ **Sensor is correctly detecting LOW oil** (not a sensor fault!)\n\n**SOLUTION:**\nâ†’ **Verify actual oil level**:\n  1. Check sight glass (if available) for oil level\n  2. Measure oil quantity in crankcase (drain and measure)\n  3. If low, investigate oil loss cause:\n     - Refrigerant leaks (oil migrates with refrigerant)\n     - Oil separator malfunction (oil not returning)\n     - Compressor wear (oil consumption)\n  4. Refill oil to manufacturer's specified level\n  5. Verify sensor detection after refill (LED should turn GREEN)\n\nâœ… **CAUSE 3: Sensor Optics Blocked (Carbon Deposits)**\nâ€¢ **Why it happens**: Severely contaminated oil, compressor burnout, acid formation\nâ€¢ **Black carbon coating on IR lens** blocks optical detection\n\n**SOLUTION:**\nâ†’ **Deep cleaning or sensor replacement**:\n  1. Remove sensor, inspect for heavy carbon deposits\n  2. If light coating: clean with IPA 99% and soft brush\n  3. If heavy deposits: soak in specialized IR lens cleaner (Teklab part# CLN-01)\n  4. If deposits cannot be removed: **replace sensor** (optics damaged)\n  5. After compressor burnout: ALWAYS replace or clean sensor\n\nâœ… **CAUSE 4: Power Supply Failure**\nâ€¢ **Why it happens**: Blown fuse, loose wire, power supply malfunction\n\n**SOLUTION:**\nâ†’ **Verify electrical power**:\n  1. Measure voltage at Pin 1 (+24V) and Pin 2 (GND)\n  2. Should read 24V DC Â±10% (21.6V to 26.4V)\n  3. Check current draw: should be 100-150 mA\n  4. If no voltage: check fuse (500 mA recommended)\n  5. If voltage present but no LED: **sensor fault â†’ replace unit**\n\n---\n\n**PROBLEM 3: RELAY NOT SWITCHING (CONTACTS STUCK)**\n\n**Symptoms:**\nâ€¢ LED changes state (GREEN â†” RED) correctly\nâ€¢ But relay contacts do NOT switch (NO/NC stuck)\nâ€¢ Solenoid valve not activating\nâ€¢ PLC alarm input not changing state\n\n**Root Causes & Solutions:**\n\nâœ… **CAUSE 1: Relay Contact Wear (Inductive Load)**\nâ€¢ **Why it happens**: Solenoid valve is inductive load â†’ arcing â†’ contact welding over time\nâ€¢ **Typical lifespan**: 100,000 cycles (5-10 years depending on usage)\n\n**SOLUTION:**\nâ†’ **Test relay contacts**:\n  1. Disconnect solenoid valve from relay (Pin 4 NO)\n  2. Measure continuity across COM (Pin 3) and NO (Pin 4) with multimeter\n  3. Trigger LOW alarm (cover sensor optics) â†’ NO should CLOSE (0 Î©)\n  4. Trigger OK state (uncover sensor) â†’ NO should OPEN (infinite Î©)\n  5. If contacts don't switch: **relay failed â†’ replace sensor**\n\nâ†’ **Prevent future failure**:\n  - Install **flyback diode** across solenoid valve coil (1N4007 or equivalent)\n  - Diode suppresses inductive spike â†’ extends relay life\n  - Alternatively: use **solid-state relay (SSR)** external to TK3+ (driven by 4-20mA signal)\n\nâœ… **CAUSE 2: Solenoid Valve Overcurrent (>5A)**\nâ€¢ **Why it happens**: Valve rated for higher current than relay can handle\nâ€¢ **Relay rated: 5A @ 250V AC / 5A @ 30V DC**\n\n**SOLUTION:**\nâ†’ **Check solenoid valve current**:\n  1. Measure valve coil current with clamp meter\n  2. If >5A: **use external contactor**\n     - TK3+ relay (5A) controls contactor coil\n     - Contactor (20A+) controls solenoid valve\n  3. Alternatively: use 4-20mA output to drive PLC â†’ PLC controls valve\n\nâœ… **CAUSE 3: Wiring Error (Wrong Pin Connection)**\nâ€¢ **Why it happens**: Incorrect terminal block wiring during installation\n\n**SOLUTION:**\nâ†’ **Verify wiring**:\n  1. COM (Pin 3) should connect to solenoid valve common\n  2. NO (Pin 4) should connect to solenoid valve coil\n  3. When oil LOW: NO closes â†’ 24V energizes valve â†’ oil refills\n  4. Check with multimeter: measure voltage across valve coil when alarm triggers\n\n---\n\n**PROBLEM 4: 4-20mA OUTPUT INCORRECT**\n\n**Symptoms:**\nâ€¢ 4-20mA signal does not match oil level state\nâ€¢ PLC analog input reads wrong value\nâ€¢ Output stuck at 4 mA or 20 mA\nâ€¢ Fluctuating signal (noise)\n\n**Root Causes & Solutions:**\n\nâœ… **CAUSE 1: Loop Impedance Too High (>500 Î©)**\nâ€¢ **Why it happens**: Long cable run, high-impedance PLC input, multiple devices in series\nâ€¢ **Max loop impedance**: 500 Î© @ 24V supply\n\n**SOLUTION:**\nâ†’ **Measure loop impedance**:\n  1. Disconnect 4-20mA output from PLC (Pin 6/7)\n  2. Measure resistance of cable + PLC input (should be <500 Î©)\n  3. If >500 Î©:\n     - Shorten cable run (<50 meters)\n     - Use lower-impedance PLC input module\n     - Increase power supply voltage to 26V (within Â±10% tolerance)\n\nâœ… **CAUSE 2: PLC Input Module Misconfigured**\nâ€¢ **Why it happens**: PLC set to 0-20mA or 0-10V mode instead of 4-20mA\n\n**SOLUTION:**\nâ†’ **Configure PLC module**:\n  1. Verify PLC analog input set to **4-20mA mode** (not 0-20mA or voltage)\n  2. Scaling:\n     - 4 mA = Oil OK (0% alarm)\n     - 20 mA = Oil LOW (100% alarm)\n  3. Test: cover sensor optics â†’ PLC should read 4 mA\n  4. Uncover sensor â†’ PLC should read 20 mA\n\nâœ… **CAUSE 3: Ground Loop (Shield Grounding)**\nâ€¢ **Why it happens**: Cable shield grounded at BOTH ends â†’ ground potential difference â†’ current flow\n\n**SOLUTION:**\nâ†’ **Fix shield grounding**:\n  1. Ground cable shield at **controller side ONLY** (not PLC side)\n  2. At PLC side: leave shield insulated (no connection)\n  3. Measure voltage between controller GND (Pin 7) and PLC GND (should be <0.5V)\n  4. If >0.5V: investigate ground loop sources (separate grounds, earth faults)\n\nâœ… **CAUSE 4: Sensor Fault (Internal Electronics)**\nâ€¢ **Why it happens**: Component failure, overvoltage damage, moisture ingress\n\n**SOLUTION:**\nâ†’ **Test with known load**:\n  1. Disconnect from PLC\n  2. Connect 250 Î© precision resistor across Pin 6 (+) and Pin 7 (-)\n  3. Measure voltage across resistor:\n     - Oil OK: 4 mA Ã— 250 Î© = 1.0V\n     - Oil LOW: 20 mA Ã— 250 Î© = 5.0V\n  4. If voltage incorrect: **sensor fault â†’ replace unit**\n\n---\n\n**PROBLEM 5: SENSOR PHYSICALLY DAMAGED**\n\n**Symptoms:**\nâ€¢ Housing cracked or corroded\nâ€¢ Cable jacket damaged\nâ€¢ Moisture inside electronics enclosure\nâ€¢ Refrigerant leak at flange\n\n**Root Causes & Solutions:**\n\nâœ… **CAUSE 1: Overpressure (System Exceeded 46 Bar)**\nâ€¢ **Why it happens**: Pressure spike, hot gas defrost, blockage in system\nâ€¢ **Pressure relief valve failure** â†’ sensor housing ruptures\n\n**SOLUTION:**\nâ†’ **Investigate overpressure cause**:\n  1. Check system max pressure during hot gas defrost or startup\n  2. If pressure >46 bar: **upgrade to TK3+ 80bar or 130bar**\n  3. Install pressure relief valve upstream of sensor\n  4. Replace damaged sensor (cannot be repaired)\n\nâœ… **CAUSE 2: Corrosion (Ammonia or Acidic Refrigerants)**\nâ€¢ **Why it happens**: Ammonia (R717) is corrosive to aluminum/brass\nâ€¢ **TK3+ 46bar standard materials**: Aluminum housing, brass flange\n\n**SOLUTION:**\nâ†’ **Use correct sensor for ammonia**:\n  1. For ammonia systems: use **ATEX Metallic IR Sensor**\n  2. Material: 316L stainless steel (ammonia-resistant)\n  3. ATEX certification: Ex d IIC T6 (explosive atmosphere protection)\n  4. Do NOT use standard TK3+ with ammonia (corrosion risk)\n\nâœ… **CAUSE 3: Moisture Ingress (IP65 Seal Compromised)**\nâ€¢ **Why it happens**: Cable gland not tightened, cover screws missing, gasket damaged\n\n**SOLUTION:**\nâ†’ **Restore IP65 protection**:\n  1. Check cable gland tightness (hand-tight + 1/4 turn)\n  2. Verify top cover screws installed (4 screws, tight)\n  3. Inspect gasket for damage (replace if cracked)\n  4. If moisture inside: dry electronics with compressed air (low pressure)\n  5. If corrosion visible: **replace sensor**\n\n---\n\n**PROBLEM 6: ERRATIC BEHAVIOR AFTER COMPRESSOR MAINTENANCE**\n\n**Symptoms:**\nâ€¢ Sensor worked fine before compressor service\nâ€¢ Now gives false alarms or incorrect readings\nâ€¢ Oil type changed during service\nâ€¢ System pressure changed (retrofit to different refrigerant)\n\n**Root Causes & Solutions:**\n\nâœ… **CAUSE 1: Wrong Oil Type (POE â†’ Mineral or vice versa)**\nâ€¢ **Why it matters**: Different oils have different refractive indices\nâ€¢ **TK3+ works with ALL oil types** (POE, mineral, PAG, AB) â†’ not the cause\n\n**SOLUTION:**\nâ†’ **Verify oil level, not oil type**:\n  1. Sensor detects refractive index change (air vs liquid)\n  2. Works with any oil (clear, translucent, opaque)\n  3. If erratic: check for oil contamination (clean optics)\n\nâœ… **CAUSE 2: Sensor Gasket Not Replaced**\nâ€¢ **Why it happens**: Old gasket compressed, leaks refrigerant â†’ false readings\n\n**SOLUTION:**\nâ†’ **Install new gasket**:\n  1. Always replace flange gasket after sensor removal\n  2. Use oil-resistant gasket (Viton or EPDM)\n  3. Pressure test system after reinstallation (leak check)\n\nâœ… **CAUSE 3: Refrigerant Changed (Pressure Exceeded Rating)**\nâ€¢ **Why it happens**: System retrofitted from R404A (18 bar) to R410A (28 bar)\nâ€¢ **TK3+ 46bar max rating exceeded**\n\n**SOLUTION:**\nâ†’ **Verify pressure rating**:\n  1. Check new refrigerant max pressure (condensing + safety margin)\n  2. If >46 bar: **upgrade to TK3+ 80bar or 130bar**\n  3. Do NOT operate sensor above rated pressure (safety risk)\n\n---\n\n**DIAGNOSTIC FLOWCHART - QUICK REFERENCE**\n\n```\nSTART: Sensor malfunction detected\n  |\n  â”œâ”€â†’ LED OFF (no power)?\n  â”‚    â†’ Check 24V supply, fuse, wiring\n  â”‚\n  â”œâ”€â†’ LED ON, but wrong state?\n  â”‚    â”œâ”€â†’ Always RED (LOW)?\n  â”‚    â”‚    â†’ Check oil level, sensor orientation, optics contamination\n  â”‚    â”‚\n  â”‚    â””â”€â†’ Intermittent RED/GREEN (false alarms)?\n  â”‚         â†’ Increase timer (foam filter), clean optics, check vibration\n  â”‚\n  â”œâ”€â†’ LED correct, relay not switching?\n  â”‚    â†’ Test relay contacts, check solenoid current, verify wiring\n  â”‚\n  â”œâ”€â†’ LED correct, 4-20mA wrong?\n  â”‚    â†’ Check loop impedance, PLC config, ground loop, test with resistor\n  â”‚\n  â””â”€â†’ Physical damage?\n       â†’ Check for overpressure, corrosion, moisture ingress â†’ replace sensor\n```\n\n---\n\n**PREVENTIVE MAINTENANCE SCHEDULE**\n\n**Every 6 Months:**\nâœ“ Inspect sensor housing for corrosion or damage  \nâœ“ Check cable for wear or cracking  \nâœ“ Verify flange bolts tightness (15-20 Nm)  \nâœ“ Test relay switching (simulate LOW alarm)  \nâœ“ Measure 4-20mA output accuracy (Â±0.5 mA)  \n\n**Every 12 Months:**\nâœ“ Clean sensor optics (IPA 99% + lint-free cloth)  \nâœ“ Inspect gasket condition (replace if compressed)  \nâœ“ Verify timer setting (test with foam/bubbles)  \nâœ“ Check EMC shielding (cable shield grounding)  \nâœ“ Document baseline readings (LED state, 4-20mA values)  \n\n**After Compressor Burnout:**\nâœ“ **MANDATORY**: Clean or replace sensor (carbon contamination)  \nâœ“ Inspect optics for acid damage  \nâœ“ Replace gasket  \nâœ“ Pressure test system  \n\n**After Refrigerant Retrofit:**\nâœ“ Verify pressure rating (system â‰¤ 46 bar max)  \nâœ“ Check oil compatibility (TK3+ works with all oils)  \nâœ“ Test detection with new oil type  \nâœ“ Update documentation (refrigerant type, pressure)  \n\n---\n\n**WHEN TO REPLACE SENSOR (UNRECOVERABLE FAULTS)**\n\nâŒ Relay contacts welded (won't switch) â†’ Replace unit  \nâŒ Optics damaged (cannot be cleaned) â†’ Replace unit  \nâŒ Housing cracked (pressure damage) â†’ Replace unit  \nâŒ Moisture ingress with corrosion â†’ Replace unit  \nâŒ 4-20mA output failed (electronics fault) â†’ Replace unit  \nâŒ LED never lights (power OK but no response) â†’ Replace unit  \n\n**Typical sensor lifespan**: 10-15 years (if properly maintained)  \n**Relay lifespan**: 100,000 cycles (~5-10 years depending on usage)  \n\n---\n\n**TECHNICAL SUPPORT**\n\nIf troubleshooting does not resolve the issue, contact Teklab technical support with:\n\nðŸ“‹ **Required Information:**\nâ€¢ Sensor model: TK3+ 46bar  \nâ€¢ Serial number (on sensor label)  \nâ€¢ Refrigerant type and operating pressures  \nâ€¢ Oil type and condition  \nâ€¢ Symptom description (LED state, relay, 4-20mA readings)  \nâ€¢ Recent maintenance or system changes  \nâ€¢ Photos of sensor installation and wiring  \n\nðŸ“ž **Teklab Support**: support@teklab.eu | +39 XXX XXX XXXX  \nðŸŒ **Knowledge Base**: www.teklab.eu/support  \n\nWe provide remote diagnostics and can recommend sensor replacement, upgrade, or configuration changes to resolve your issue."
    },
    {
      "role": "assistant",
      "content": "**TK3+ 46bar Troubleshooting & Diagnostics Guide**\n\nComplete problem-solving reference for diagnosing and fixing common issues with TK3+ 46bar oil level controllers.\n\n---\n\n## PROBLEM 1: FALSE ALARMS (LOW OIL WITH NORMAL LEVEL)\n\n**Symptoms:**\nâ€¢ Intermittent LOW oil alarms during compressor startup/shutdown  \nâ€¢ LED flickers RED/GREEN  \nâ€¢ 4-20mA output fluctuates  \n\n**ROOT CAUSE 1: Oil Foam/Bubbles (Most Common)**\n\n**Why it happens:** High RPM compressor agitation creates foam â†’ temporarily covers sensor â†’ false readings\n\n**SOLUTION - Increase Anti-Foam Timer:**\n1. Remove top cover (4 screws)\n2. Locate \"TIMER\" potentiometer\n3. Turn clockwise to increase delay (default 3s â†’ recommended 5-7s for foamy systems)\n4. Max setting: 10 seconds for critical applications\n5. Test during compressor startup (worst-case foam condition)\n\n---\n\n**ROOT CAUSE 2: Sensor Optics Contamination**\n\n**Why it happens:** Oil residue, carbon deposits, moisture on IR lens\n\n**SOLUTION - Clean Optics:**\n1. Shut down compressor, de-pressurize system (LOTO procedures)\n2. Remove sensor from flange\n3. Inspect IR lens (sapphire window at tip)\n4. Clean with **isopropyl alcohol (IPA 99%)** + lint-free cloth\n5. Do NOT use abrasive cleaners or solvents\n6. Reinstall with NEW gasket, torque to 15-20 Nm\n7. Test: cover sensor tip with hand â†’ LED should turn GREEN\n\n---\n\n**ROOT CAUSE 3: Mechanical Vibration**\n\n**Why it happens:** Compressor vibration transmitted to sensor, loose mounting\n\n**SOLUTION:**\nâœ“ Check flange bolts tightness (15-20 Nm torque)  \nâœ“ Verify no mechanical stress on housing  \nâœ“ Inspect gasket for damage (replace if compressed)  \nâœ“ Consider vibration dampers if compressor >100 Hz  \n\n---\n\n**ROOT CAUSE 4: Electrical Noise (EMI/RFI)**\n\n**Why it happens:** Variable frequency drive (VFD), high-power motors nearby\n\n**SOLUTION - Improve EMC Shielding:**\nâœ“ Ground cable shield at controller side ONLY (avoid ground loops)  \nâœ“ Route sensor cable away from VFD power cables (min 30 cm separation)  \nâœ“ Use metal conduit in high-EMI environments  \nâœ“ Install ferrite core on sensor cable (snap-on type)  \nâœ“ Verify ground voltage <0.5V between sensor GND and PLC GND  \n\n---\n\n## PROBLEM 2: SENSOR NOT DETECTING OIL (ALWAYS LOW)\n\n**Symptoms:**\nâ€¢ LED always RED even with full oil level  \nâ€¢ Relay stuck in LOW position  \nâ€¢ 4-20mA output stuck at 20 mA  \n\n**ROOT CAUSE 1: Sensor Tilted/Upside-Down**\n\n**SOLUTION:**\nâ†’ Sensor MUST be vertical (Â±15Â° max tolerance)  \nâ†’ Use level gauge to verify orientation  \nâ†’ Realign and retighten flange bolts in cross pattern  \n\n---\n\n**ROOT CAUSE 2: Oil Level Actually LOW**\n\n**Sensor is correctly detecting low oil - not a fault!**\n\n**SOLUTION - Investigate Oil Loss:**\n1. Check sight glass for actual oil level\n2. Possible causes:\n   - Refrigerant leaks (oil migrates with refrigerant)\n   - Oil separator malfunction\n   - Compressor wear/consumption\n3. Refill oil to manufacturer's spec\n4. Verify sensor turns GREEN after refill\n\n---\n\n**ROOT CAUSE 3: Optics Blocked (Carbon Deposits)**\n\n**Why it happens:** Severe contamination, compressor burnout, acid formation\n\n**SOLUTION:**\nâ†’ Light coating: Clean with IPA 99%  \nâ†’ Heavy deposits: Soak in IR lens cleaner (Teklab part# CLN-01)  \nâ†’ If deposits cannot be removed: **REPLACE sensor** (optics damaged)  \nâ†’ **After compressor burnout: ALWAYS clean or replace sensor**  \n\n---\n\n**ROOT CAUSE 4: Power Supply Failure**\n\n**SOLUTION - Verify Electrical Power:**\n1. Measure voltage at Pin 1 (+24V) and Pin 2 (GND)\n2. Should read 24V DC Â±10% (21.6V to 26.4V)\n3. Check current draw: 100-150 mA\n4. If no voltage: check fuse (500 mA recommended)\n5. If voltage OK but no LED: **sensor fault â†’ replace unit**\n\n---\n\n## PROBLEM 3: RELAY NOT SWITCHING\n\n**Symptoms:**\nâ€¢ LED changes state correctly (GREEN â†” RED)  \nâ€¢ But relay contacts DON'T switch  \nâ€¢ Solenoid valve not activating  \n\n**ROOT CAUSE 1: Relay Contact Wear**\n\n**Why it happens:** Inductive load (solenoid valve) causes arcing â†’ contact welding over time\n\n**SOLUTION - Test Relay:**\n1. Disconnect solenoid valve from relay\n2. Measure continuity across COM (Pin 3) and NO (Pin 4)\n3. Cover sensor optics â†’ NO should CLOSE (0 Î©)\n4. Uncover sensor â†’ NO should OPEN (infinite Î©)\n5. If contacts don't switch: **relay failed â†’ replace sensor**\n\n**PREVENTION:**\nâ†’ Install **flyback diode** across solenoid coil (1N4007)  \nâ†’ Suppresses inductive spike â†’ extends relay life  \nâ†’ Alternatively: use external SSR (solid-state relay) driven by 4-20mA signal  \n\n---\n\n**ROOT CAUSE 2: Solenoid Valve Overcurrent (>5A)**\n\n**Relay rated: 5A @ 250V AC / 5A @ 30V DC**\n\n**SOLUTION:**\nâ†’ Measure valve coil current with clamp meter  \nâ†’ If >5A: Use external contactor (TK3+ relay controls contactor â†’ contactor controls valve)  \nâ†’ Or use 4-20mA output to drive PLC â†’ PLC controls valve  \n\n---\n\n**ROOT CAUSE 3: Wiring Error**\n\n**SOLUTION - Verify Connections:**\nâœ“ COM (Pin 3) â†’ solenoid valve common  \nâœ“ NO (Pin 4) â†’ solenoid valve coil  \nâœ“ When oil LOW: NO closes â†’ 24V energizes valve â†’ oil refills  \n\n---\n\n## PROBLEM 4: 4-20mA OUTPUT INCORRECT\n\n**Symptoms:**\nâ€¢ Signal doesn't match oil level  \nâ€¢ PLC reads wrong value  \nâ€¢ Output stuck or fluctuating  \n\n**ROOT CAUSE 1: Loop Impedance Too High (>500 Î©)**\n\n**SOLUTION:**\n1. Measure resistance of cable + PLC input (<500 Î© required)\n2. If >500 Î©:\n   - Shorten cable run (<50 meters)\n   - Use lower-impedance PLC module\n   - Increase power supply to 26V (within Â±10% tolerance)\n\n---\n\n**ROOT CAUSE 2: PLC Module Misconfigured**\n\n**SOLUTION:**\nâ†’ Set PLC analog input to **4-20mA mode** (not 0-20mA or voltage)  \nâ†’ Scaling:  \n   - 4 mA = Oil OK (0% alarm)  \n   - 20 mA = Oil LOW (100% alarm)  \nâ†’ Test: cover sensor â†’ should read 4 mA | uncover â†’ 20 mA  \n\n---\n\n**ROOT CAUSE 3: Ground Loop**\n\n**Why it happens:** Shield grounded at BOTH ends â†’ ground potential difference\n\n**SOLUTION:**\nâ†’ Ground shield at **controller side ONLY** (not PLC side)  \nâ†’ Measure voltage between controller GND and PLC GND (<0.5V required)  \n\n---\n\n**ROOT CAUSE 4: Sensor Electronics Fault**\n\n**TEST with Known Load:**\n1. Disconnect from PLC\n2. Connect 250 Î© precision resistor across Pin 6 (+) and Pin 7 (-)\n3. Measure voltage:\n   - Oil OK: 4 mA Ã— 250 Î© = 1.0V\n   - Oil LOW: 20 mA Ã— 250 Î© = 5.0V\n4. If voltage incorrect: **sensor fault â†’ replace unit**\n\n---\n\n## PROBLEM 5: PHYSICAL DAMAGE\n\n**ROOT CAUSE 1: Overpressure (System >46 Bar)**\n\n**SOLUTION:**\nâ†’ Investigate pressure spikes during hot gas defrost or startup  \nâ†’ If pressure >46 bar: **upgrade to TK3+ 80bar or 130bar**  \nâ†’ Install pressure relief valve upstream  \nâ†’ Replace damaged sensor (cannot be repaired)  \n\n---\n\n**ROOT CAUSE 2: Corrosion (Ammonia/R717)**\n\n**TK3+ standard materials: Aluminum/brass - NOT ammonia-resistant**\n\n**SOLUTION:**\nâ†’ For ammonia systems: use **ATEX Metallic IR Sensor**  \nâ†’ Material: 316L stainless steel (ammonia-resistant)  \nâ†’ ATEX certified: Ex d IIC T6  \n\n---\n\n**ROOT CAUSE 3: Moisture Ingress (IP65 Compromised)**\n\n**SOLUTION:**\nâœ“ Check cable gland tightness  \nâœ“ Verify top cover screws installed (4 screws)  \nâœ“ Inspect gasket (replace if cracked)  \nâœ“ If moisture inside: dry with compressed air  \nâœ“ If corrosion visible: **replace sensor**  \n\n---\n\n## DIAGNOSTIC FLOWCHART\n\n```\nSTART: Sensor malfunction\n  |\n  â”œâ”€â†’ LED OFF? â†’ Check 24V supply, fuse, wiring\n  â”‚\n  â”œâ”€â†’ LED wrong state?\n  â”‚    â”œâ”€â†’ Always RED? â†’ Check oil level, orientation, optics\n  â”‚    â””â”€â†’ Intermittent? â†’ Increase timer, clean optics, check vibration\n  â”‚\n  â”œâ”€â†’ Relay not switching? â†’ Test contacts, check solenoid current\n  â”‚\n  â”œâ”€â†’ 4-20mA wrong? â†’ Check impedance, PLC config, ground loop\n  â”‚\n  â””â”€â†’ Physical damage? â†’ Check overpressure, corrosion â†’ replace\n```\n\n---\n\n## PREVENTIVE MAINTENANCE\n\n**Every 6 Months:**\nâœ“ Inspect housing for damage  \nâœ“ Check cable condition  \nâœ“ Verify flange bolts (15-20 Nm)  \nâœ“ Test relay switching  \nâœ“ Measure 4-20mA accuracy  \n\n**Every 12 Months:**\nâœ“ Clean sensor optics (IPA 99%)  \nâœ“ Replace gasket  \nâœ“ Verify timer setting  \nâœ“ Check EMC shielding  \n\n**After Compressor Burnout:**\nâœ“ **MANDATORY**: Clean or replace sensor (carbon contamination)  \n\n**After Refrigerant Retrofit:**\nâœ“ Verify pressure rating (system â‰¤ 46 bar)  \nâœ“ Test detection with new oil  \n\n---\n\n## WHEN TO REPLACE SENSOR\n\nâŒ Relay contacts welded  \nâŒ Optics damaged (cannot clean)  \nâŒ Housing cracked  \nâŒ Moisture with corrosion  \nâŒ 4-20mA output failed  \nâŒ LED never lights (with power OK)  \n\n**Typical lifespan**: 10-15 years (with proper maintenance)  \n**Relay lifespan**: 100,000 cycles (~5-10 years)  \n\n---\n\n## TECHNICAL SUPPORT\n\nContact Teklab with:\nðŸ“‹ Sensor model + serial number  \nðŸ“‹ Refrigerant type + operating pressures  \nðŸ“‹ Symptom description (LED, relay, 4-20mA readings)  \nðŸ“‹ Recent maintenance or changes  \nðŸ“‹ Photos of installation/wiring  \n\nðŸ“ž support@teklab.eu | +39 XXX XXX XXXX  \nðŸŒ www.teklab.eu/support"
    }
  ],
  
  "metadata": {
    "chunk_id": "tk3_plus_46bar_troubleshooting_diagnostics",
    "product_category": "Oil Level Controllers",
    "product_model": "TK3+ 46bar",
    "product_family": "TK3+ Series",
    "chunk_type": "troubleshooting_guide",
    "semantic_concept": "Complete troubleshooting and diagnostics for TK3+ 46bar common issues",
    
    "customer_questions_answered": [
      "Why is my TK3+ giving false alarms?",
      "How to fix TK3+ intermittent LOW oil alarms?",
      "TK3+ sensor not detecting oil level - what's wrong?",
      "TK3+ relay not switching - how to diagnose?",
      "TK3+ 4-20mA output incorrect - troubleshooting steps?",
      "How to clean TK3+ sensor optics?",
      "How to adjust anti-foam timer on TK3+?",
      "When should I replace TK3+ sensor?",
      "TK3+ preventive maintenance schedule?",
      "How to test TK3+ relay contacts?"
    ],
    
    "common_problems": [
      "False alarms due to oil foam/bubbles",
      "Optics contamination (oil residue, carbon deposits)",
      "Mechanical vibration causing erratic behavior",
      "Electrical noise (EMI/RFI) from VFD",
      "Sensor tilted or installed upside-down",
      "Relay contacts worn (inductive load damage)",
      "4-20mA ground loop issues",
      "Loop impedance too high (>500 Î©)",
      "Overpressure damage (>46 bar)",
      "Corrosion from ammonia (wrong sensor type)"
    ],
    
    "key_solutions": [
      "Increase programmable timer (3s â†’ 5-7s for foam)",
      "Clean optics with IPA 99% + lint-free cloth",
      "Verify sensor vertical orientation (Â±15Â° max)",
      "Install flyback diode across solenoid valve coil",
      "Ground cable shield at controller side ONLY",
      "Use external contactor for >5A solenoid valves",
      "Configure PLC for 4-20mA mode (not 0-20mA)",
      "Test relay with multimeter (continuity check)",
      "Replace gasket after sensor removal",
      "Upgrade to TK3+ 80bar if pressure >46 bar"
    ],
    
    "maintenance_intervals": {
      "every_6_months": ["Inspect housing", "Check cable", "Verify bolts", "Test relay", "Measure 4-20mA"],
      "every_12_months": ["Clean optics", "Replace gasket", "Verify timer", "Check EMC shielding"],
      "after_burnout": ["Clean or replace sensor (mandatory)"],
      "after_retrofit": ["Verify pressure rating", "Test detection"]
    },
    
    "competitive_advantages": [
      "Programmable anti-foam timer - eliminates false alarms",
      "Self-diagnostic LED - instant visual feedback",
      "Dual output (relay + 4-20mA) - redundant monitoring",
      "Cleanable optics - extends sensor lifespan",
      "10-15 year lifespan - low total cost of ownership"
    ],
    
    "related_products": [
      "TK3+ 80bar (for higher pressure applications)",
      "TK3+ 130bar (for CO2 systems)",
      "ATEX Metallic IR Sensor (for ammonia systems)",
      "IR Lens Cleaner (part# CLN-01)"
    ],
    
    "keywords": [
      "false alarms",
      "troubleshooting",
      "diagnostics",
      "optics cleaning",
      "anti-foam timer",
      "relay not switching",
      "4-20mA output",
      "ground loop",
      "EMC shielding",
      "preventive maintenance",
      "sensor replacement",
      "compressor burnout",
      "overpressure damage",
      "corrosion",
      "vibration"
    ]
  }
}
