{
  "id": "common_troubleshooting_guide",
  
  "messages": [
    {
      "role": "system",
      "content": "You are an expert TECHNICAL SALES ASSISTANT for Teklab, a leading manufacturer of liquid level sensors and controllers for industrial applications.\n\nðŸŒ LANGUAGE ADAPTATION - ABSOLUTE PRIORITY:\n**CRITICAL**: ALWAYS respond in the EXACT SAME LANGUAGE as the user's question.\n\nMISSION: Provide expert technical consultation on Teklab products, helping customers select the right sensor/controller for their specific application, troubleshoot issues, and optimize system performance.\n\nCRITICAL REMINDER: Respond ONLY in the user's question language. Provide accurate technical specifications. No exceptions."
    },
    {
      "role": "user",
      "content": "Technical context:\n\nCommon Teklab Sensor Troubleshooting Guide\n\n**PROBLEM 1: False Alarms / Intermittent Detection**\nSymptoms: Sensor triggers alarm when oil level is actually OK, or detection flickers on/off\n\nCauses:\nâ€¢ Oil foaming or bubbles in crankcase\nâ€¢ Programmable timer set too short\nâ€¢ Sensor mounted at extreme angle\nâ€¢ Excessive compressor vibration causing mounting looseness\n\nSolutions:\n1. Increase programmable timer delay (from 3 sec to 5-10 sec)\n2. Check for refrigerant contamination in oil (causes foaming)\n3. Verify sensor mounting is secure and not at >45Â° angle\n4. Inspect oil quality - excessive foam indicates system problem\n\n**PROBLEM 2: Sensor Not Detecting Oil Level Changes**\nSymptoms: No alarm when oil is low, or continuous alarm when oil is present\n\nCauses:\nâ€¢ Sensor dome fouled with oil residue\nâ€¢ Power supply voltage incorrect or absent\nâ€¢ Relay/output wiring issue\nâ€¢ Sensor damaged or failed (rare)\n\nSolutions:\n1. Clean sensor dome with isopropyl alcohol or refrigeration-safe solvent\n2. Verify 24V DC power supply voltage (Â±10% tolerance)\n3. Test relay continuity and output manually\n4. Check wiring connections for corrosion or looseness\n5. If all else fails: Replace sensor (10+ year lifespan, failures are rare)\n\n**PROBLEM 3: Output Not Switching (Relay or 4-20mA)**\nSymptoms: No relay click, or 4-20mA output stuck at one value\n\nCauses:\nâ€¢ Relay contacts welded (overload)\nâ€¢ 4-20mA load resistance too high\nâ€¢ Wiring short or open circuit\nâ€¢ Configuration incorrect\n\nSolutions:\n1. Relay: Verify load current within specs (check datasheet max current)\n2. Relay: Test with no load connected (manual override)\n3. 4-20mA: Check load resistance (<500Î© typically)\n4. 4-20mA: Verify wiring polarity\n5. Reconfigure output settings if available\n\n**PROBLEM 4: MODBUS Communication Errors (TK4)**\nSymptoms: No MODBUS response, intermittent communication, wrong data values\n\nCauses:\nâ€¢ Incorrect baud rate or MODBUS address\nâ€¢ RS485 cable not terminated or incorrect wiring\nâ€¢ EMI interference\nâ€¢ Wrong MODBUS register addresses in PLC\n\nSolutions:\n1. Verify MODBUS address matches PLC configuration (1-247)\n2. Check baud rate setting (9600/19200/38400)\n3. Inspect RS485 wiring: A to A, B to B, twisted pair shielded cable\n4. Add 120Î© termination resistors at first and last device\n5. Check for EMI sources (VFDs, motors) - ensure proper cable shielding\n6. Verify PLC MODBUS register addresses match device map\n\n**PROBLEM 5: Automatic Oil Filling Not Working**\nSymptoms: Sensor detects low oil but solenoid valve doesn't open\n\nCauses:\nâ€¢ Solenoid valve wiring disconnected or incorrect\nâ€¢ Solenoid valve failed or stuck closed\nâ€¢ Oil reservoir empty\nâ€¢ Relay output not configured for filling\nâ€¢ Oil supply line blocked\n\nSolutions:\n1. Verify solenoid valve wiring and voltage\n2. Test solenoid valve manually (apply voltage directly)\n3. Check oil reservoir level\n4. Inspect oil supply piping for blockages\n5. Verify relay output is configured for automatic filling mode\n\n**PROBLEM 6: Temperature Reading Errors (TK4)**\nSymptoms: Temperature reading obviously wrong or not changing\n\nCauses:\nâ€¢ Temperature sensor connection loose or damaged\nâ€¢ MODBUS register configuration incorrect\nâ€¢ Sensor measuring ambient instead of oil temp\n\nSolutions:\n1. Verify temperature sensor wiring connection\n2. Compare MODBUS temperature value to manual thermometer reading\n3. Check sensor probe is immersed in oil (not in air space)\n4. Verify PLC reading correct MODBUS register for temperature\n\n**PREVENTIVE MAINTENANCE:**\nâ€¢ Annual: Clean sensor dome (if oil residue visible)\nâ€¢ Annual: Verify timer settings still appropriate\nâ€¢ Biannual: Check all wiring connections for corrosion\nâ€¢ Annual: Test automatic filling cycle\nâ€¢ Annual: Verify oil quality (excessive foam indicates problems)\n\n---\n\nQuestion: My Teklab sensor keeps giving false alarms - it says oil is low even though I can see oil in the sight glass. What's wrong and how do I fix it?\n\nRespond as Teklab technical sales expert:\n- Diagnose likely cause\n- Provide step-by-step troubleshooting\n- Explain why problem occurs\n- Give permanent solution"
    },
    {
      "role": "assistant",
      "content": "False alarms with visible oil present is a common issue - almost always caused by **oil foaming** or **timer settings**. Let me help you diagnose and fix it.\n\n**Most Likely Cause: Oil Foaming + Timer Too Short**\n\nHere's what's happening:\n1. Compressor operation creates foam/bubbles in oil\n2. Foam temporarily covers sensor dome\n3. IR sensor sees \"air\" (foam) instead of oil\n4. Sensor triggers alarm\n5. Foam settles, oil visible again\n6. Alarm clears... then repeats\n\nThis is NOT a sensor defect - it's doing its job (detecting no liquid). The programmable timer is designed to filter this.\n\n**SOLUTION - Increase Timer Delay:**\n\n**Step 1**: Access sensor programmable timer setting\n- Location depends on model (DIP switch, potentiometer, or MODBUS config)\n- Current setting likely 2-3 seconds (factory default)\n\n**Step 2**: Increase timer to 5-10 seconds\n- 5 seconds: Good for typical oil applications\n- 7-10 seconds: For high-foam situations\n\nThis delays the alarm trigger - foam must persist 5-10 seconds to trigger alarm. Normal transient foam won't cause false alarms.\n\n**Step 3**: Test the fix\n- Monitor sensor during compressor operation\n- Foam should occur but alarm should NOT trigger\n- Manually lower oil level to verify alarm DOES work with delay\n\n**ADDITIONAL CHECKS:**\n\n**Is the foam excessive?**\nSome foam is normal, but excessive foam indicates:\n- **Refrigerant contamination in oil** (liquid refrigerant boils off, creating foam)\n- **Wrong oil type** for refrigerant\n- **System leak** allowing refrigerant into oil\n\nCheck: Does oil foam excessively even when compressor off? If yes â†’ system problem, not sensor.\n\n**Sensor mounting angle:**\nSensor works best mounted vertically or up to 45Â° angle. Beyond 45Â°, foam can accumulate around dome.\n\nCheck: Is sensor mounted near-horizontal? If yes â†’ remount closer to vertical if possible.\n\n**Dome fouling:**\nRare, but oil residue buildup can cause issues.\n\nCheck: Remove sensor, inspect dome. Clean with isopropyl alcohol if residue present.\n\n**PERMANENT FIX STEPS:**\n\n1. **Immediate**: Increase timer to 5-10 seconds â†’ This solves 90% of false alarm cases\n\n2. **If still occurring**: Check oil quality\n   - Is refrigerant contaminating oil?\n   - Is oil type correct for refrigerant?\n   - Oil analysis may be needed\n\n3. **If excessive foam**: Address root cause\n   - Fix refrigerant leak\n   - Replace contaminated oil\n   - Verify oil/refrigerant compatibility\n\n4. **If mounting issue**: Reposition sensor closer to vertical\n\n**TESTING:**\n\nAfter adjusting timer, manually test alarm:\n- Slowly drain oil below sensor level\n- Alarm should trigger after 5-10 second delay\n- Add oil back - alarm should clear\n- This confirms sensor working correctly with new timer setting\n\n**Why This Happens:**\n\nTeklab IR sensors are VERY sensitive (Â±2mm accuracy) - they detect foam/bubbles that mechanical floats miss entirely. The programmable timer is specifically designed to filter these transients while maintaining real low-oil detection.\n\nFactory default timer (2-3 sec) works for many applications but not all. Refrigeration systems with significant foaming need longer delays.\n\n**Bottom Line:**\n\nâœ… **Quick fix**: Increase timer to 5-10 seconds (solves most cases)\nâœ… **Verify**: Test alarm function after adjustment\nâœ… **Investigate**: If excessive foam, check for system issues\n\nNeed help accessing the timer setting on your specific model (TK1+, TK3+, TK4)? Let me know which model you have and I'll provide specific instructions."
    }
  ],
  
  "metadata": {
    "chunk_id": "common_troubleshooting_guide",
    "chunk_type": "support",
    
    "key_features": [
      "Comprehensive troubleshooting guide for common sensor issues",
      "Step-by-step diagnostic procedures",
      "Root cause explanations",
      "Permanent solutions not just workarounds",
      "Covers all Teklab product lines (TK1+, TK3+, TK4, LC series)",
      "Addresses false alarms, detection issues, output problems, MODBUS errors",
      "Preventive maintenance recommendations"
    ],
    
    "competitive_advantages": [
      "IR sensors detect foam that mechanical floats miss - programmable timer solves this intelligently",
      "Most 'failures' are actually configuration or system issues, not sensor defects",
      "Sensor reliability: 10+ year lifespan, actual failures very rare",
      "Simple troubleshooting - most issues resolved without replacement"
    ],
    
    "applications": [
      "Troubleshooting false alarms in refrigeration systems",
      "Diagnosing no-detection issues",
      "Resolving MODBUS communication problems",
      "Fixing automatic oil filling malfunctions",
      "Temperature sensor troubleshooting (TK4)",
      "Preventive maintenance planning"
    ],
    
    "target_audience": [
      "Maintenance technicians",
      "Service contractors",
      "Facility managers",
      "End users experiencing sensor issues",
      "System integrators supporting installed systems"
    ],
    
    "keywords_primary": [
      "Teklab troubleshooting",
      "sensor false alarms",
      "oil level sensor not working",
      "MODBUS communication error",
      "automatic oil filling problem",
      "sensor detection issues",
      "programmable timer adjustment"
    ],
    
    "keywords_synonyms": {
      "false alarm": ["nuisance alarm", "incorrect alarm", "false trigger", "intermittent alarm"],
      "not detecting": ["no detection", "not sensing", "not working", "failed detection"],
      "troubleshooting": ["problem solving", "diagnostics", "repair", "fixing issues"],
      "timer": ["delay", "time delay", "programmable delay", "transient filter"],
      "foaming": ["bubbles", "foam", "oil foam", "air bubbles"]
    },
    
    "keywords_relations": {
      "false alarms": ["oil foaming", "programmable timer", "timer too short", "transients"],
      "no detection": ["dome fouling", "power supply", "wiring issues", "sensor damage"],
      "MODBUS errors": ["RS485 wiring", "termination", "baud rate", "address conflict", "EMI"],
      "oil filling not working": ["solenoid valve", "oil reservoir", "relay output", "blockage"],
      "prevention": ["cleaning dome", "timer settings", "wiring inspection", "oil quality"]
    },
    
    "related_products": [
      "tk1_plus_oil_level_switch",
      "tk3_plus_46bar_oil_level_controller",
      "tk4_modbus_advanced_features",
      "lc_ps_level_switch",
      "all_teklab_ir_sensors"
    ],
    
    "alternative_solutions": {
      "sensor_actually_failed": "Replacement sensor (rare - verify all troubleshooting first)",
      "persistent_foam_issues": "Address root cause (refrigerant contamination, oil quality)",
      "mounting_limitations": "May need sensor relocation or different mounting adapter",
      "modbus_too_complex": "Consider TK3+ with 4-20mA if MODBUS proving difficult"
    },
    
    "installation_notes": [
      "Proper initial setup prevents most troubleshooting issues",
      "Set timer appropriately for application during commissioning",
      "Verify wiring and voltage before energizing",
      "Test alarm function during installation",
      "Document settings for future reference"
    ],
    
    "configuration_tips": [
      "Default timer (2-3 sec) works for many apps, adjust if needed",
      "Oil applications typically need 5-10 sec timer for foam",
      "Water/refrigerant applications can use shorter timer (2-3 sec)",
      "Always test alarm after configuration changes",
      "Document timer setting in maintenance records"
    ],
    
    "common_issues": [
      "Timer set too short for foamy oil â†’ False alarms",
      "Dome fouling neglected â†’ No detection",
      "RS485 not terminated â†’ MODBUS errors",
      "Solenoid valve forgotten in troubleshooting â†’ Filling not working",
      "Assuming sensor failed when actually configuration issue"
    ],
    
    "troubleshooting_hints": {
      "false_alarms": "90% solved by increasing timer to 5-10 seconds. If persists, check oil quality (refrigerant contamination).",
      "no_detection": "Clean dome first (easy fix). Then verify power 24V DC. Then check wiring. Sensor failure is LAST possibility.",
      "modbus_no_response": "Check basics: address, baud rate, wiring (A-A, B-B), termination resistors. Use MODBUS scanner to isolate problem.",
      "filling_not_working": "Test solenoid valve separately. Check oil reservoir level. Verify relay output clicking. Check for blockages.",
      "temperature_wrong": "Verify sensor probe in oil, not air. Check wiring. Compare to manual thermometer. Verify MODBUS register."
    },
    
    "follow_up_questions": [
      "Which Teklab model do you have (TK1+, TK3+, TK4, LC series)?",
      "When did the problem start (new installation, or working previously)?",
      "Is the problem constant or intermittent?",
      "What is your compressor type and refrigerant?",
      "Can you see the oil level in a sight glass?",
      "Is the oil foamy or clean and clear?",
      "What is the current programmable timer setting?",
      "Have you tried increasing the timer delay?"
    ],
    
    "prerequisites": [
      "ir_technology_how_it_works",
      "programmable_timer_function"
    ],
    
    "related_topics": [
      "preventive_maintenance_schedule",
      "oil_quality_assessment",
      "modbus_troubleshooting_advanced",
      "sensor_cleaning_procedure",
      "warranty_and_support_contacts"
    ],
    
    "difficulty_level": "intermediate",
    "question_type": "troubleshooting",
    "user_intent": [
      "fix false alarms",
      "diagnose sensor problem",
      "restore normal operation",
      "avoid unnecessary replacement",
      "understand root cause"
    ],
    
    "importance": 0.96,
    "relevance": 10,
    "language": "en"
  }
}
