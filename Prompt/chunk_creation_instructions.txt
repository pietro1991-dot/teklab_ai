================================================================================
üì¶ INSTRUCTIONS FOR COPILOT - CREATING RAG CHUNKS FOR TEKLAB B2B CHATBOT
================================================================================

OBJECTIVE:
Create chunks in conversation format (messages: system/user/assistant) with 
extended metadata for training Teklab Technical Support AI chatbot.

IMPORTANT:
- Each chunk is a COMPLETE conversation ready for training
- Each chunk is SELF-CONTAINED: messages + ALL metadata embedded in 1 JSON file
- LANGUAGE: Write EVERYTHING in ENGLISH (user content, assistant response, metadata)
- NO vague language in responses (precise technical specifications required)
- IDENTICAL system prompt in all chunks (copied from Prompt/prompts_config.py)
- Extended metadata for technical accuracy and product knowledge
- Separate files (metadata/keywords/qa) AGGREGATE info from chunks, DON'T duplicate
- COMPLETE SESSION: When you receive files in chat, create EVERYTHING (chunks + aggregated files) without interruptions

================================================================================
üìÅ FOLDER STRUCTURE - CRITICAL RULES
================================================================================

‚ö†Ô∏è TEKLAB PRODUCT CATALOG STRUCTURE:

ROOT PATH: 
Fonti/Autori/Teklab/Processati/

CORRECT STRUCTURE:
```
Processati/
‚îÇ
‚îú‚îÄ‚îÄ chunks/                                    ‚Üê Root for all chunks
‚îÇ   ‚îú‚îÄ‚îÄ products/                             ‚Üê Product-specific chunks
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ tk1_plus_oil_level_switch.json
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ tk3_plus_46bar_version.json
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ tk3_plus_80bar_version.json
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ tk3_plus_130bar_version.json
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ tk4_46bar_version.json
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ tk4_modbus_46bar.json
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ lc_ps_level_switch.json
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ lc_ph_level_switch_120bar.json
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ lc_xp_level_switch_120bar.json
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ lc_xt_level_switch.json
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ atex_metallic_ir_sensor.json
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ k25_4_20ma_level_switch.json
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ technology/                           ‚Üê Technical principles chunks
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ir_technology_how_it_works.json
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ electro_optic_principles.json
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ir_vs_mechanical_floats.json
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ir_vs_capacitive_sensors.json
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ installation_best_practices.json
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ applications/                         ‚Üê Use case chunks
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ refrigeration_systems.json
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ compressor_oil_management.json
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ atex_explosive_environments.json
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ co2_refrigeration_systems.json
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ high_pressure_applications.json
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ support/                              ‚Üê Troubleshooting/FAQ chunks
‚îÇ       ‚îú‚îÄ‚îÄ product_selection_guide.json
‚îÇ       ‚îú‚îÄ‚îÄ pressure_rating_selection.json
‚îÇ       ‚îú‚îÄ‚îÄ refrigerant_compatibility.json
‚îÇ       ‚îú‚îÄ‚îÄ common_troubleshooting.json
‚îÇ       ‚îú‚îÄ‚îÄ modbus_vs_standard_output.json
‚îÇ       ‚îî‚îÄ‚îÄ adapter_flange_selection.json
‚îÇ
‚îú‚îÄ‚îÄ metadata/                                  ‚Üê SIBLING folder to chunks/ (NOT inside!)
‚îÇ   ‚îú‚îÄ‚îÄ products_metadata.json
‚îÇ   ‚îú‚îÄ‚îÄ technology_metadata.json
‚îÇ   ‚îú‚îÄ‚îÄ applications_metadata.json
‚îÇ   ‚îî‚îÄ‚îÄ support_metadata.json
‚îÇ
‚îú‚îÄ‚îÄ keywords/                                  ‚Üê SIBLING folder to chunks/ (NOT inside!)
‚îÇ   ‚îî‚îÄ‚îÄ teklab_keywords.json
‚îÇ
‚îî‚îÄ‚îÄ qa_pairs/                                  ‚Üê SIBLING folder to chunks/ (NOT inside!)
    ‚îî‚îÄ‚îÄ teklab_qa.json
```

üö® CRITICAL PATH RULES:

1. ‚úÖ Chunks organized by CATEGORY (products/technology/applications/support)
   - Product chunks: specific product models with full specs
   - Technology chunks: how IR sensors work, competitive advantages
   - Application chunks: industry use cases and solutions
   - Support chunks: selection guides, troubleshooting, FAQ
   
2. ‚úÖ Aggregated folders are SIBLINGS to chunks/, NOT subfolders
   - Correct: metadata/products_metadata.json ‚úÖ
   - Wrong: chunks/products/metadata/products_metadata.json ‚ùå
   
3. ‚úÖ Aggregated files CONSOLIDATE cross-cutting information
   - keywords/teklab_keywords.json: ALL technical terms from all chunks
   - qa_pairs/teklab_qa.json: Additional Q&A not in chunks
   - metadata files: Overview and cross-references

================================================================================
üìÅ FILE STRUCTURE AND ORGANIZATION
================================================================================

üéØ SELF-CONTAINED CHUNKS (PRIMARY - ALWAYS CREATE):

File naming conventions:
- Products: {model_name}_{pressure_rating}.json
  Example: tk3_plus_46bar_version.json, lc_ps_level_switch.json
  
- Technology: {technology_aspect}.json
  Example: ir_technology_how_it_works.json, installation_best_practices.json
  
- Applications: {industry_usecase}.json
  Example: refrigeration_systems.json, atex_explosive_environments.json
  
- Support: {support_topic}.json
  Example: product_selection_guide.json, common_troubleshooting.json

Location examples:
- chunks/products/tk3_plus_46bar_version.json
- chunks/technology/ir_technology_how_it_works.json
- chunks/applications/compressor_oil_management.json
- chunks/support/pressure_rating_selection.json

Each chunk contains ALREADY inside:
‚úÖ messages (system/user/assistant conversation)
‚úÖ complete metadata (technical specs + extended info)
‚úÖ technical_specs (pressure, temperature, outputs, refrigerants)
‚úÖ key_features and competitive_advantages
‚úÖ applications and target_audience
‚úÖ keywords_primary/synonyms/relations
‚úÖ related_products and alternative_solutions
‚úÖ installation_notes and configuration_tips
‚úÖ common_issues and troubleshooting_hints
‚úÖ follow_up_questions
‚úÖ prerequisites, related_topics
‚úÖ difficulty_level, question_type, user_intent
‚úÖ importance, relevance

üìã AGGREGATED FILES (SECONDARY - CREATE AFTER CHUNKS):

These files DON'T duplicate chunk data, but AGGREGATE and ENRICH:

1. metadata/products_metadata.json
   ‚Üí OVERVIEW of product catalog: families, pressure ranges, feature matrix
   ‚Üí Comparison tables, compatibility charts
   ‚Üí Info that crosses all product chunks

2. metadata/technology_metadata.json
   ‚Üí IR sensor technology overview
   ‚Üí Competitive advantages summary
   ‚Üí Installation best practices library

3. metadata/applications_metadata.json
   ‚Üí Industry use cases overview
   ‚Üí Application selection criteria
   ‚Üí Success stories and case studies

4. keywords/teklab_keywords.json
   ‚Üí ALL technical terms from all chunks aggregated
   ‚Üí Organized by category (products, specs, applications)
   ‚Üí Includes synonyms and abbreviations

5. qa_pairs/teklab_qa.json (IMPORTANT!)
   ‚Üí ADDITIONAL Q&A that are NOT in the chunks
   ‚Üí Enrich training dataset with edge cases
   ‚Üí Common customer questions from support tickets

================================================================================
üéØ COMPLETE JSON FORMAT
================================================================================

{
  "id": "tk3_plus_46bar_oil_level_controller",
  
  "messages": [
    {
      "role": "system",
      "content": "[COPY ENTIRE SYSTEM PROMPT FROM Prompt/prompts_config.py - DON'T MODIFY]"
    },
    {
      "role": "user",
      "content": "Technical context:\n\n[PRODUCT/TECHNOLOGY DESCRIPTION]\nKey specifications:\n‚Ä¢ Specification 1\n‚Ä¢ Specification 2\n‚Ä¢ Specification 3\n\nÔøΩ Application: [Typical use case]\n\nComplete details: [Technical information from source material]\n\n---\n\nQuestion: [Realistic customer question about this product/topic]\n\nRespond as Teklab technical sales expert:\n- Precise and data-driven (cite specifications)\n- Consultative approach (help customer find right solution)\n- Highlight competitive advantages (IR technology benefits)\n- Provide installation/configuration guidance when relevant"
    },
    {
      "role": "assistant",
      "content": "[TECHNICAL RESPONSE]\n\n[1. DIRECT RECOMMENDATION/ANSWER (1-2 sentences)]\n\n[2. TECHNICAL JUSTIFICATION]\nWhy this is the right choice:\n‚Ä¢ Reason 1 (technical fit)\n‚Ä¢ Reason 2 (specification match)\n‚Ä¢ Reason 3 (competitive advantage)\n\n[3. KEY SPECIFICATIONS]\n‚Ä¢ Pressure rating: X bar\n‚Ä¢ Temperature range: -X¬∞C to +X¬∞C\n‚Ä¢ Output type: relay/4-20mA/MODBUS\n‚Ä¢ Compatible refrigerants: HFC, HCFC, CO2\n‚Ä¢ Detection accuracy: ¬±2mm\n\n[4. INSTALLATION/CONFIGURATION NOTES]\n1. Mounting: [specific guidance]\n2. Wiring: [connection details]\n3. Configuration: [parameter settings]\n\n[5. COMPETITIVE ADVANTAGES]\n‚Ä¢ Advantage 1 vs alternative technology\n‚Ä¢ Advantage 2 for this application\n\n[6. FOLLOW-UP CONSIDERATIONS]\n[Relevant questions to ask customer or next steps]"
    }
  ],
  
  "metadata": {
    "chunk_id": "tk3_plus_46bar_oil_level_controller",
    "product_category": "Oil Level Controllers",        // Main category
    "product_model": "TK3+ 46bar",                      // Specific model
    "product_family": "TK Series",                      // Product family
    "chunk_type": "product",  // or "technology", "application", "support"
    
    "technical_specs": {
      "max_pressure": "46 bar",
      "temperature_range": "-40¬∞C to +125¬∞C",
      "output_types": ["relay", "4-20mA"],              // Array of available outputs
      "detection_accuracy": "¬±2mm",
      "response_time": "instantaneous",
      "refrigerants_compatible": ["HFC", "HCFC", "CO2"],
      "mounting_type": "direct flange (dual pitch)",
      "power_supply": "24V DC",
      "ip_rating": "IP65",                              // If applicable
      "certifications": ["CE"],                         // e.g., ATEX, CE, UL
      "material": "metallic",                           // or "plastic"
      "connection_type": "Rotalock"                     // If applicable
    },
    
    "key_features": [
      "Electro-optic infrared (IR) detection technology",
      "Fast response time - instantaneous detection",
      "High accuracy - ¬±2mm detection precision",
      "Programmable timer for transient filtering (foam, bubbles, waves)",
      "Dual pitch flange for easy installation on various compressors",
      "Wide operating temperature range (-40¬∞C to +125¬∞C)",
      "Compatible with HFC, HCFC, CO2 refrigerants"
      // 5-8 key features
    ],
    
    "competitive_advantages": [
      "vs Mechanical floats: No moving parts, higher reliability, no recalibration needed",
      "vs Capacitive sensors: Not affected by liquid hardness/conductivity, works in any geography",
      "IR technology: Works with clear, translucent, reflective, and opaque liquids",
      "Durability: Withstands extreme temperatures, pressures, vibrations, shocks"
      // 3-5 competitive advantages
    ],
    
    "applications": [
      "Industrial refrigeration systems",
      "Compressor oil level monitoring and control",
      "Automatic oil balancing systems",
      "Oil separators in refrigeration plants"
      // 3-6 typical applications
    ],
    
    "target_audience": [
      "Refrigeration technicians",
      "Maintenance engineers",
      "System integrators",
      "HVAC contractors",
      "OEM compressor manufacturers"
      // 3-5 user profiles
    ],
    
    "keywords_primary": [
      "oil level controller",
      "infrared sensor",
      "compressor monitoring",
      "refrigeration oil management",
      "electro-optic level sensor"
      // 5-8 keywords
    ],
    
    "keywords_synonyms": {
      "oil level controller": ["oil level sensor", "oil level switch", "oil monitor", "oil management system"],
      "infrared sensor": ["IR sensor", "electro-optic sensor", "optical level sensor"],
      "compressor": ["refrigeration compressor", "scroll compressor", "screw compressor"]
      // For each primary keyword, list 3-5 synonyms/variants
    },
    
    "keywords_relations": {
      "oil level controller": ["compressor", "oil separator", "refrigeration system"],
      "infrared technology": ["electro-optic", "optical detection", "IR beam"],
      "46 bar pressure": ["medium pressure", "HFC systems", "R134a applications"]
      // Semantic connections between concepts
    },
    
    "related_products": [
      "tk3_plus_80bar_version",        // Higher pressure variant
      "tk3_plus_130bar_version",       // Highest pressure variant
      "tk4_46bar_version",             // Advanced model with more features
      "tk4_modbus_46bar"               // MODBUS version for PLC integration
      // Related/alternative products (chunk_ids)
    ],
    
    "alternative_solutions": {
      "higher_pressure": "tk3_plus_80bar_version (for systems >46 bar)",
      "plc_integration": "tk4_modbus_46bar (MODBUS RTU communication)",
      "basic_needs": "tk1_plus_oil_level_switch (cost-effective option)",
      "atex_required": "atex_metallic_ir_sensor (explosive environments)"
      // When to choose other products instead
    },
    
    "installation_notes": [
      "Direct mounting on compressor crankcase via dual pitch flange",
      "Adapters available for different compressor brands (Bitzer, Copeland, Carrier, etc.)",
      "Ensure proper sensor orientation (can be top, side, or bottom fitted)",
      "Connect power supply 24V DC and output relay/signal to control system"
      // 3-5 installation tips
    ],
    
    "configuration_tips": [
      "Set programmable timer to filter transients (recommended 3-5 seconds for oil applications)",
      "Adjust alarm threshold based on compressor oil capacity",
      "Configure relay output for solenoid valve control (automatic oil filling)",
      "Test sensor detection by manually changing oil level during commissioning"
      // 3-5 configuration best practices
    ],
    
    "common_issues": [
      "False alarms: Increase timer delay to filter foam/bubbles",
      "No detection: Verify sensor dome is clean (oil residue can affect detection)",
      "Intermittent signals: Check mounting stability (vibrations can cause issues)",
      "Output not switching: Verify wiring and power supply voltage"
      // 3-5 common problems with hints
    ],
    
    "troubleshooting_hints": {
      "sensor_not_detecting": "Clean sensor dome with appropriate solvent, verify power supply 24V DC",
      "false_alarms": "Increase programmable timer delay (3-10 seconds), check for excessive foam",
      "output_relay_stuck": "Test relay manually, verify load current within specs",
      "communication_errors": "For MODBUS versions: check baud rate, address, cable shielding"
      // Problem: solution pairs
    },
    
    "follow_up_questions": [
      "What is the exact pressure rating of your refrigeration system?",
      "Which compressor brand and model are you using?",
      "Do you need PLC integration (MODBUS) or simple relay output?",
      "Is the installation in an ATEX-classified explosive environment?",
      "What refrigerant type are you using (HFC, HCFC, CO2, other)?",
      "Do you need automatic oil filling or just level monitoring with alarm?"
      // 5-8 questions to clarify customer needs
    ],
    
    "prerequisites": [
      "refrigerant_compatibility",           // Understand refrigerant types
      "pressure_rating_selection",           // How to select right pressure rating
      "ir_technology_how_it_works"          // Basic understanding of IR sensors
      // Chunks/topics better to know before (chunk_ids)
    ],
    
    "related_topics": [
      "tk4_46bar_version",                   // Upgrade option
      "installation_best_practices",         // Installation guidance
      "common_troubleshooting",              // Troubleshooting guide
      "modbus_vs_standard_output"            // Output type selection
      // Related chunks to explore after (chunk_ids)
    ],
    
    "difficulty_level": "intermediate",  // "beginner", "intermediate", "advanced"
    "question_type": "product-selection",  // "product-selection", "technical-spec", "installation", "troubleshooting", "comparison"
    "user_intent": [
      "find right product for application",
      "verify compatibility with existing system",
      "understand technical specifications"
      // What user really seeks
    ],
    
    "importance": 0.92,  // 0-1 (how central is this chunk in product catalog)
    "relevance": 9,      // 1-10 (how useful for average customer)
    "language": "en"     // üåç "en", "it", "es", "de" - language of the chunk content
  }
}

üåç IMPORTANT - LANGUAGE FIELD:
================================================================================
ALWAYS include "language" field in metadata:

‚Ä¢ "en" = English content
‚Ä¢ "it" = Italian content  
‚Ä¢ "es" = Spanish content
‚Ä¢ "de" = German content

EXAMPLES:

‚úÖ ENGLISH CHUNK:
"metadata": {
  "chunk_id": "tk3_plus_46bar_oil_level_controller",
  "language": "en",
  ...
}

‚úÖ ITALIAN CHUNK:
"metadata": {
  "chunk_id": "tk3_plus_46bar_controllore_livello_olio",
  "language": "it",
  ...
}

‚úÖ SPANISH CHUNK:
"metadata": {
  "chunk_id": "tk3_plus_46bar_controlador_nivel_aceite",
  "language": "es",
  ...
}

‚ö†Ô∏è TECHNICAL TERMS AND UNITS:
Keep technical specifications in STANDARD INTERNATIONAL format:
‚Ä¢ Pressure: "46 bar" (not "46 bar" in other languages - it's a unit)
‚Ä¢ Temperature: "¬∞C" (Celsius standard)
‚Ä¢ Model numbers: "TK3+", "LC-PS" (exact as product catalog)
‚Ä¢ Refrigerants: "R134a", "R404A", "CO2" (chemical notation)
‚Ä¢ Standards: "ATEX", "CE", "IP65" (international codes)

The system will automatically translate descriptions to user's query language while 
preserving technical terms and specifications in their standard form.

================================================================================

================================================================================
üìù CONTENT WRITING GUIDELINES
================================================================================

SYSTEM PROMPT:
‚Ä¢ Copy ENTIRE system prompt from Prompt/prompts_config.py
‚Ä¢ DON'T modify anything
‚Ä¢ Technical Sales Assistant role for Teklab products

USER CONTENT:
‚Ä¢ Structure: Technical Context + Key Specs + Application + Question
‚Ä¢ Context must be CLEAR and SELF-CONTAINED with accurate specifications
‚Ä¢ Key specifications listed to guide technical response
‚Ä¢ Question formulated as a real customer would ask it
‚Ä¢ üåç WRITE IN ENGLISH (all user content in English)

ASSISTANT CONTENT (the response):
‚Ä¢ Length: 200-300 words (can reach 400 for complex installation guides)
‚Ä¢ üåç WRITE IN ENGLISH (entire response in English)
‚Ä¢ Structure ALWAYS:
  1. Direct recommendation/answer (1-2 sentences)
  2. Technical justification (why this fits the specs)
  3. Key specifications relevant to application
  4. Installation/configuration guidance (if relevant)
  5. Competitive advantages or alternatives
  6. Follow-up considerations/questions
‚Ä¢ NO vague language (e.g., "maybe", "could work", "might be suitable")
‚Ä¢ YES precise specifications (e.g., "TK3+ 80bar rated up to 80 bar, suitable for your 50 bar system")
‚Ä¢ Speak in FIRST PERSON as expert: "I recommend...", "For your application..."
‚Ä¢ Always TECHNICAL + CONSULTATIVE (not just specs, not just sales pitch)

GENERAL TONE:
‚úÖ Technical but accessible (explain jargon when needed)
‚úÖ Consultative and solution-oriented
‚úÖ Precise and data-driven (cite exact specs)
‚úÖ Professional yet friendly
‚úÖ Focus on PRACTICAL APPLICATION and PROBLEM SOLVING

‚ùå NOT overly technical/academic (avoid excessive jargon)
‚ùå NOT vague or generic (always cite specific models/specs)
‚ùå NOT pushy sales (focus on right solution, not just selling)
‚ùå NOT uncertain (avoid "maybe", "could", "might")

RESPONSE EXAMPLES:

‚ùå BAD RESPONSE (vague, uncertain):
"You might want to consider the TK3+ or maybe the TK4, depending on your needs. They both could work for oil level monitoring. You should probably check the specifications."

‚úÖ GOOD RESPONSE (precise, consultative):
"For your Bitzer compressor operating at 50 bar with R134a, I recommend the **TK3+ 80bar**.

**Why this model:**
- Your 50 bar system requires a sensor rated for at least 60 bar (safety margin) ‚Üí TK3+ 80bar is ideal
- R134a is an HFC refrigerant ‚Üí fully compatible with TK3+ series
- Dual pitch flange design fits most Bitzer models directly

**Key specs for your application:**
- Pressure rating: up to 80 bar
- Temperature range: -40¬∞C to +125¬∞C  
- Output: Relay + 4-20mA (for PLC integration if needed)
- Detection accuracy: ¬±2mm

**Installation:**
Mounts directly on compressor crankcase. Verify your Bitzer model's flange type - we have adapters available if needed.

**Advantage vs mechanical floats:**
No moving parts = higher reliability, no recalibration, longer lifespan.

Do you need automatic oil filling (solenoid valve control) or just level monitoring with alarm?"

================================================================================
üîß METADATA - HOW TO FILL THEM
================================================================================

TECHNICAL_SPECS:
‚Ä¢ Extract from product documentation
‚Ä¢ BE PRECISE with numbers and units
‚Ä¢ GOOD example: "max_pressure": "46 bar", "temperature_range": "-40¬∞C to +125¬∞C"
‚Ä¢ BAD example: "max_pressure": "high", "temperature_range": "very wide"
‚Ä¢ Include: pressure, temperature, outputs, refrigerants, mounting, power, certifications

KEY_FEATURES:
‚Ä¢ List 5-8 main product features
‚Ä¢ üåç IN ENGLISH
‚Ä¢ Feature statements not single words
‚Ä¢ GOOD example: "Programmable timer for transient filtering (foam, bubbles, waves)"
‚Ä¢ BAD example: "timer", "filtering"
‚Ä¢ Focus on what makes this product valuable

COMPETITIVE_ADVANTAGES:
‚Ä¢ Comparison with alternative technologies
‚Ä¢ üåç IN ENGLISH
‚Ä¢ Format: "vs {competitor}: {advantage}"
‚Ä¢ GOOD example: "vs Mechanical floats: No moving parts, higher reliability, no recalibration"
‚Ä¢ BAD example: "better than floats"
‚Ä¢ 3-5 clear advantages that help customer choose

APPLICATIONS:
‚Ä¢ Typical use cases for this product
‚Ä¢ üåç IN ENGLISH
‚Ä¢ Industry-specific or application-specific
‚Ä¢ GOOD example: "Compressor oil level monitoring and control in industrial refrigeration"
‚Ä¢ BAD example: "oil monitoring"
‚Ä¢ 3-6 applications

TARGET_AUDIENCE:
‚Ä¢ Who uses this product
‚Ä¢ Job titles or roles
‚Ä¢ GOOD example: "Refrigeration technicians", "Maintenance engineers", "System integrators"
‚Ä¢ 3-5 user profiles

KEYWORDS_PRIMARY:
‚Ä¢ Terms customers would use to search for this product
‚Ä¢ üåç IN ENGLISH
‚Ä¢ 2-5 words per keyword
‚Ä¢ 5-8 keywords total
‚Ä¢ GOOD example: "oil level controller", "infrared sensor", "compressor monitoring"
‚Ä¢ BAD example: "oil", "sensor", "compressor"

KEYWORDS_SYNONYMS:
‚Ä¢ For EACH primary keyword, list 3-5 variants/synonyms
‚Ä¢ üåç IN ENGLISH
‚Ä¢ Include: direct synonyms, related terms, abbreviations
‚Ä¢ GOOD example: "infrared sensor": ["IR sensor", "electro-optic sensor", "optical level sensor", "IR level switch"]
‚Ä¢ BAD example: "infrared sensor": ["sensor"]

KEYWORDS_RELATIONS:
‚Ä¢ Semantic connections between concepts
‚Ä¢ What naturally connects to what
‚Ä¢ GOOD example: "oil level controller": ["compressor", "oil separator", "refrigeration system"]
‚Ä¢ BAD example: "oil level controller": ["oil"]

RELATED_PRODUCTS:
‚Ä¢ Other Teklab products that are related
‚Ä¢ Use chunk_id format
‚Ä¢ Include: variants (different pressure ratings), upgrades, complementary products
‚Ä¢ GOOD example: ["tk3_plus_80bar_version", "tk4_46bar_version", "tk4_modbus_46bar"]

ALTERNATIVE_SOLUTIONS:
‚Ä¢ When to choose other products instead
‚Ä¢ Key-value pairs: scenario ‚Üí recommended_product
‚Ä¢ GOOD example: "higher_pressure": "tk3_plus_80bar_version (for systems >46 bar)"
‚Ä¢ Helps customers understand product range

INSTALLATION_NOTES:
‚Ä¢ Practical guidance for installation
‚Ä¢ 3-5 key points
‚Ä¢ GOOD example: "Direct mounting on compressor crankcase via dual pitch flange"
‚Ä¢ Include mounting, connections, orientation, adapters

CONFIGURATION_TIPS:
‚Ä¢ Best practices for setup/configuration
‚Ä¢ 3-5 tips
‚Ä¢ GOOD example: "Set programmable timer to 3-5 seconds to filter transients in oil applications"
‚Ä¢ Help customer get optimal performance

COMMON_ISSUES:
‚Ä¢ Problems customers might encounter
‚Ä¢ Include hints for solution
‚Ä¢ GOOD example: "False alarms: Increase timer delay to filter foam/bubbles"
‚Ä¢ 3-5 common issues

TROUBLESHOOTING_HINTS:
‚Ä¢ Problem-solution pairs
‚Ä¢ Format: "problem_key": "solution description"
‚Ä¢ GOOD example: "sensor_not_detecting": "Clean sensor dome with appropriate solvent, verify power supply 24V DC"

FOLLOW_UP_QUESTIONS:
‚Ä¢ Questions to ask customer to clarify needs
‚Ä¢ üåç IN ENGLISH
‚Ä¢ Help narrow down the right solution
‚Ä¢ GOOD example: "What is the exact pressure rating of your refrigeration system?"
‚Ä¢ 5-8 questions

PREREQUISITES / RELATED_TOPICS:
‚Ä¢ Connections with other chunks
‚Ä¢ Prerequisites: what's useful to know before
‚Ä¢ Related: what to explore after to deepen knowledge
‚Ä¢ Use chunk_id of other chunks

DIFFICULTY_LEVEL:
‚Ä¢ beginner: basic products, simple concepts
‚Ä¢ intermediate: requires understanding of refrigeration systems
‚Ä¢ advanced: complex installations, system integration

QUESTION_TYPE:
‚Ä¢ What type of query is it
‚Ä¢ product-selection: "which sensor should I use..."
‚Ä¢ technical-spec: "what are the specifications..."
‚Ä¢ installation: "how do I install..."
‚Ä¢ troubleshooting: "sensor not working..."
‚Ä¢ comparison: "TK3+ vs TK4..."

USER_INTENT:
‚Ä¢ What customer REALLY seeks behind the question
‚Ä¢ GOOD example: "find right product for application", "verify compatibility", "solve detection problem"
‚Ä¢ Helps understand customer motivation

IMPORTANCE / RELEVANCE:
‚Ä¢ importance (0-1): how central in product catalog (0.9+ = flagship product)
‚Ä¢ relevance (1-10): how useful for average customer (10 = most customers need this)

================================================================================
‚úÖ CHECKLIST BEFORE SAVING
================================================================================

CONTENT:
[ ] System prompt copied complete from prompts_config.py
[ ] User content with technical context + specs + application + question
[ ] Assistant content 200-300 words, structured response format
[ ] NO vague language ("maybe", "could", "might")
[ ] PRECISE specifications cited (pressure, temperature, model numbers)
[ ] Installation/configuration guidance present when relevant
[ ] Technical yet accessible tone (explain jargon)

BASE METADATA:
[ ] Unique and descriptive chunk_id
[ ] Correct product_category, product_model, product_family
[ ] Chunk_type specified (product/technology/application/support)
[ ] Technical_specs complete and accurate
[ ] 5-8 key_features
[ ] 3-5 competitive_advantages
[ ] 3-6 applications and 3-5 target_audience
[ ] Importance and relevance assigned

EXTENDED METADATA:
[ ] keywords_primary (5-8 technical terms)
[ ] keywords_synonyms for each primary keyword (3-5 synonyms)
[ ] keywords_relations between concepts
[ ] related_products with chunk_ids
[ ] alternative_solutions (when to choose other products)
[ ] installation_notes (3-5 practical tips)
[ ] configuration_tips (3-5 best practices)
[ ] common_issues and troubleshooting_hints
[ ] follow_up_questions (5-8 clarifying questions)
[ ] prerequisites and related_topics if applicable
[ ] difficulty_level, question_type, user_intent

VALID JSON:
[ ] Correct JSON syntax (commas, brackets, quotes)
[ ] No trailing comma in last element of array/object
[ ] Multiline strings with \n escaped
[ ] Tested with online JSON validator if uncertain
[ ] All technical specs use standard units (bar, ¬∞C, etc.)

================================================================================
üöÄ CHUNK CREATION WORKFLOW
================================================================================

‚ö° IMPORTANT: COMPLETE EVERYTHING IN ONE SESSION!

When you receive product documentation/web pages in chat:
‚Üí You must create EVERYTHING in the same session without interruptions:
  ‚Ä¢ PHASE 1: All chunks for the products/topics (organized by category)
  ‚Ä¢ PHASE 2: All aggregated files (metadata, keywords, qa_pairs)

DON'T stop after 1-2 chunks asking for confirmation!
Proceed until total completion of the product catalog section.

---

PHASE 1: CREATING SELF-CONTAINED CHUNKS (PRIORITY)

1. READ product documentation/web pages
2. IDENTIFY main categories:
   - Products: Individual product models (TK1+, TK3+ 46bar, TK4 MODBUS, etc.)
   - Technology: How IR sensors work, competitive advantages
   - Applications: Refrigeration systems, ATEX environments, etc.
   - Support: Selection guides, troubleshooting, comparison guides

3. For EACH product/topic:
   a. Create 1 SELF-CONTAINED chunk with complete structure
   b. Write system/user/assistant conversation IN ENGLISH
   c. Fill ALL base + extended metadata INSIDE the chunk
   d. Extract ACCURATE technical specifications from source
   e. Verify valid JSON
   f. SAVE in appropriate category folder:
      - Fonti/Autori/Teklab/Processati/chunks/products/
      - Fonti/Autori/Teklab/Processati/chunks/technology/
      - Fonti/Autori/Teklab/Processati/chunks/applications/
      - Fonti/Autori/Teklab/Processati/chunks/support/

‚úÖ At this point you have COMPLETE chunks ready for training!

PHASE 2: CREATING AGGREGATED FILES (AFTER all chunks ready)

4. Create metadata/{category}_metadata.json
   ‚Üí Category overview with product families, feature matrices, comparison tables
   ‚Üí DON'T duplicate chunk metadata, AGGREGATE higher-level info

5. Create keywords/teklab_keywords.json
   ‚Üí COLLECT all keywords_primary from all chunks
   ‚Üí Organize by category (products, specifications, applications, technologies)
   ‚Üí Include all synonyms and abbreviations

6. Create qa_pairs/teklab_qa.json (IMPORTANT!)
   ‚Üí ADDITIONAL Q&A that are NOT covered by existing chunks
   ‚Üí Alternative phrasing, edge cases, cross-product comparisons
   ‚Üí Common questions from customer support
   ‚Üí These enrich training dataset

‚úÖ ONLY AFTER completing PHASE 2 the product catalog is ready!

---

TYPICAL CHUNK DISTRIBUTION:

For Teklab product catalog, create approximately:
- **Products**: 15-20 chunks (one per major product variant)
  Examples: TK1+, TK3+ (46/80/130bar), TK4 (standard + MODBUS variants), LC series, ATEX sensors

- **Technology**: 5-7 chunks (technical principles and comparisons)
  Examples: IR technology basics, IR vs mechanical floats, IR vs capacitive, installation best practices

- **Applications**: 5-8 chunks (industry use cases)
  Examples: Refrigeration systems, compressor oil management, ATEX environments, CO2 systems, high-pressure applications

- **Support**: 8-10 chunks (selection and troubleshooting)
  Examples: Product selection guide, pressure rating selection, refrigerant compatibility, troubleshooting guide, MODBUS vs standard

Total: ~40-50 comprehensive chunks covering entire Teklab product knowledge base

================================================================================
üí° FINAL TIPS
================================================================================

‚Ä¢ Fast system: Copy existing product chunk template and modify for new products
‚Ä¢ SELF-CONTAINED chunk: must work standalone without external files
‚Ä¢ CLEAR user content: complete technical context with accurate specifications
‚Ä¢ PRACTICAL assistant: always give installation/configuration guidance when relevant
‚Ä¢ Rich metadata INSIDE chunk: more embedded technical info = better customer support
‚Ä¢ Valid JSON: use online validator if uncertain
‚Ä¢ Final test: ask copilot "explain this chunk" to verify clarity and accuracy
‚Ä¢ üåç EVERYTHING IN ENGLISH: user content, assistant response, metadata
‚Ä¢ ‚ö° COMPLETE SESSION: When you receive documentation, complete EVERYTHING before stopping
‚Ä¢ üìä ACCURATE SPECS: Double-check pressure ratings, temperature ranges, model numbers
‚Ä¢ üîß COMPETITIVE ADVANTAGES: Always explain WHY Teklab IR sensors are better than alternatives

REMEMBER:
‚úÖ Messages format (system/user/assistant) NOT old question/answer format
‚úÖ IDENTICAL system prompt in all chunks
‚úÖ NO vague language ("maybe", "could") - be PRECISE with specifications
‚úÖ YES accurate technical data from source documentation
‚úÖ Extended metadata not optional - essential for technical accuracy
‚úÖ Each chunk is SELF-CONTAINED - all metadata embedded inside
‚úÖ Separate files (metadata/keywords/qa) AGGREGATE, DON'T duplicate
‚úÖ Training reads 1 file per chunk ‚Üí maximum efficiency
‚úÖ üåç ENGLISH LANGUAGE for all content (user/assistant/metadata)
‚úÖ üîß TECHNICAL PRECISION: cite exact specs, model numbers, certifications
‚úÖ üì± CONSULTATIVE TONE: help customer find RIGHT solution, not just any solution
‚úÖ ‚ö° COMPLETE PHASE 1 + PHASE 2 in one session when you receive documentation

PRODUCT-SPECIFIC GUIDELINES:
‚Ä¢ For product chunks: Include ALL technical specs from datasheet
‚Ä¢ For comparison chunks: Create feature matrices, highlight key differences
‚Ä¢ For troubleshooting chunks: Problem ‚Üí Root cause ‚Üí Solution format
‚Ä¢ For application chunks: Industry context + Teklab solution + Benefits
‚Ä¢ For technology chunks: Explain HOW it works + WHY it's better

================================================================================
End of instructions. Use this as reference every time you create new chunks!
================================================================================
